@model Everton_teste.Models.Corrida_Novo

@{
    ViewBag.Title = "Home Page";
}
<div ng-controller="NovoMotoristaController">
    <div class="jumbotron">
        <h1>Everton - Corridas Compartilhadas</h1>
    </div>

    <div class="row">
        <div class="col-md-6">
            <label for="Motorista">Motorista:</label>
            <select id="Motorista">
                @foreach (var item in Model.Motoristas)
                {
                    <option value="@item.ID">@item.Value</option>
                }
            </select>
        </div>
        <div class="col-md-6">
            <label for="Passageiro">Passageiro:</label>
            <select id="Passageiro">
                @foreach (var item in Model.Passageiros)
                {
                    <option value="@item.ID">@item.Value</option>
                }
            </select>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <label for="Valor">Valor:</label>
            <input type="number" id="Valor" name="Valor" />
        </div>
    </div>

    <div class="row">
        <div class="col-md-2">
            <input type="button" id="save" name="save" value="Salvar" />
        </div>
    </div>
</div>
<script type="text/javascript">
    $("#save").on('click', function () {
        debugger;
        var obj = {
            Motorista: $('#Motorista').val(),
            Passageiro: $('#Passageiro').val(),
            Valor: $('#Valor').val()
        };

        $.ajax({
            url: '/Home/Novo',
            type: 'POST',
            data: obj,
            success: function () {
                alert("Salvo com sucesso!");
                window.location.href = "/Home/Index";
            }
        });
    })
</script>